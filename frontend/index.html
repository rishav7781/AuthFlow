<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AuthFlow</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
  <header class="navbar">
    <div class="brand">
      <i class="fas fa-shield-alt"></i> <span>AuthFlow</span>
    </div>
    <div id="userStatus" class="user-status"></div>
  </header>

  <main class="container">
    <div id="notification" class="notification hidden" role="alert"></div>
    <div id="loading" class="loading-overlay hidden"><div class="spinner"></div></div>

    <section id="loginPage" class="card">
      <h2>Welcome Back</h2>
      <form id="loginForm" autocomplete="on">
        <label for="loginName">Name</label>
        <input type="text" id="loginName" placeholder="Name" required aria-required="true">
        <label for="loginMobile">Mobile Number</label>
        <input type="tel" id="loginMobile" placeholder="Mobile Number" required aria-required="true" pattern="[0-9]{10}">
        <button type="submit"><i class="fas fa-sign-in-alt"></i> Login</button>
      </form>
      <p class="switch">No account? <a href="#" onclick="showPage('signupPage')">Sign up</a></p>
    </section>

    <section id="signupPage" class="card hidden">
      <h2>Create Account</h2>
      <form id="signupForm" autocomplete="on">
        <label for="signupName">Name</label>
        <input type="text" id="signupName" placeholder="Name" required aria-required="true">
        <label for="signupMobile">Mobile</label>
        <input type="tel" id="signupMobile" placeholder="Mobile" required aria-required="true" pattern="[0-9]{10}">
        <label for="signupEmail">Email</label>
        <input type="email" id="signupEmail" placeholder="Email" required aria-required="true">
        <label for="signupAddress">Address</label>
        <textarea id="signupAddress" placeholder="Address" required aria-required="true"></textarea>
        <button type="submit"><i class="fas fa-user-plus"></i> Sign Up</button>
      </form>
      <p class="switch">Have an account? <a href="#" onclick="showPage('loginPage')">Login</a></p>
    </section>

    <section id="profilePage" class="card hidden">
      <div class="profile-header">
        <div class="avatar"><i class="fas fa-user-circle"></i></div>
        <div>
          <h2 id="profileName">Profile</h2>
          <p id="profileMobile"></p>
          <p id="profileEmail"></p>
          <p id="profileAddress"></p>
        </div>
      </div>
      <div class="profile-actions">
        <button onclick="showPage('contactsPage')"><i class="fas fa-address-book"></i> Upload Contacts</button>
        <button onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
      </div>
    </section>

    <section id="contactsPage" class="card hidden">
      <h2>Upload Contacts</h2>
      <label for="contactsInput">Paste mobile numbers (comma-separated or JSON array):</label>
      <textarea id="contactsInput" placeholder="Mobile numbers..." aria-required="true"></textarea>
      <div class="contacts-actions">
        <button onclick="uploadContacts()"><i class="fas fa-upload"></i> Upload</button>
        <button onclick="showPage('profilePage')"><i class="fas fa-arrow-left"></i> Back</button>
      </div>
    </section>

    <section id="contactsResultPage" class="card hidden">
      <h2>Results</h2>
      <div id="foundContacts"></div>
      <div id="notFoundContacts"></div>
      <div class="contacts-actions">
        <button onclick="showPage('contactsPage')"><i class="fas fa-search"></i> Search Again</button>
        <button onclick="showPage('profilePage')"><i class="fas fa-arrow-left"></i> Back</button>
      </div>
    </section>
  </main>

  <footer class="footer">
    <p>&copy; 2025 AuthFlow. All rights reserved.</p>
  </footer>
  <script src="script.js"></script>
</body>
</html>
